<?xml version="1.0" encoding="ISO-8859-1" ?>
<flow name="xicbatch">
	<object     name="workflowParameters"/>
	<collection name="spectra"/>
	
	<action name="begin">
		<output port="flowParams" object="workflowParameters"/>
		<output port="spectra" collection="spectra"/>
	</action>

	<object name="results"/>
	<object name="extraction_results"/>
	<object name="ms2_extraction_results"/>
	<action name="calculate_xic">
        <input  port="workflowParameters" object="workflowParameters"/>
		<input port="spectra" collection="spectra"/>
		<output  port="results" object="results"/>
		<output  port="extraction_results" object="extraction_results"/>
		<output  port="ms2_extraction_results" object="ms2_extraction_results"/>
    </action>

	<object name="demangled_results"/>
	<action name="demangle_results">
        <input  port="workflowParameters" object="workflowParameters"/>
		<input port="results" object="results"/>
		<output  port="demangled_results" object="demangled_results"/>
    </action>

	<object name="demangled_extraction_results"/>
	<action name="demangle_extraction_results">
        <input  port="workflowParameters" object="workflowParameters"/>
		<input port="extraction_results" object="extraction_results"/>
		<output  port="demangled_extraction_results" object="demangled_extraction_results"/>
    </action>

	<object name="demangled_ms2_extraction_results"/>
	<action name="demangle_ms2_extraction_results">
        <input  port="workflowParameters" object="workflowParameters"/>
		<input port="ms2_extraction_results" object="ms2_extraction_results"/>
		<output  port="demangled_ms2_extraction_results" object="demangled_ms2_extraction_results"/>
    </action>


	<collection name="visualized_results"/>
	<action name="draw_results">
        <input  port="workflowParameters" object="workflowParameters"/>
		<input port="extraction_results" object="demangled_extraction_results"/>
		<output  port="visualized_results" collection="visualized_results"/>
    </action>

	<action name="end">
		<input port="results" object="results"/>
		<input port="extraction_results" object="extraction_results"/>
		<input port="ms2_extraction_results" object="ms2_extraction_results"/>
		
		<input port="demangled_results" object="demangled_results"/>
		<input port="demangled_extraction_results" object="demangled_extraction_results"/>
		<input port="demangled_ms2_extraction_results" object="demangled_ms2_extraction_results"/>

		<input port="visualized_results" collection="visualized_results"/>
	</action>
</flow>
