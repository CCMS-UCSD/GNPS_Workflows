<?xml version="1.0" encoding="ISO-8859-1" ?>
<interface id="MMVEC" version="1.0">
    <workflow-id>MMVEC</workflow-id>
    <workflow-label>MMVEC</workflow-label>
    <parameters>
        <parameter name="desc" label="Description">
            <validator type="length" maximum="1000"/>
        </parameter>
        <parameter name="email" label="Email">
            <validator type="email"/>
        </parameter>

        <!-- Search file parameters -->
        <parameter name="metabolites_qza" label="Metabolites biom qza">
            <validator type="required"/>
            <fileGenerator type="upload" purpose="metabolites_qza" target="metabolites_qza"/>
        </parameter>

        <parameter name="metabolites_metadata" label="Metabolites Annotations">
            <validator type="required"/>
            <fileGenerator type="upload" purpose="metabolites_metadata" target="metabolites_metadata"/>
        </parameter>

        <parameter name="microbiome_qza" label="Microbiome biom qza">
            <validator type="required"/>
            <fileGenerator type="upload" purpose="microbiome_qza" target="microbiome_qza"/>
        </parameter>

        <parameter name="microbiome_taxonomy" label="Microbiome Taxonomy Annotations">
            <validator type="required"/>
            <fileGenerator type="upload" purpose="microbiome_taxonomy" target="microbiome_taxonomy"/>
        </parameter>

        <parameter name="EPOCHS" label="Training Epochs">
            <options>
                <option value="10" label="10"/>
                <option value="100" label="100"/>
                <option value="1000" label="1000"/>
                <option value="10000" label="10000"/>
            </options>
            <validator type="set"/>
        </parameter>

        <parameter name="LATENTDIM" label="Latent Dimensions">
            <options>
                <option value="3" label="3"/>
                <option value="5" label="5"/>
            </options>
            <validator type="set"/>
        </parameter>

        <parameter name="LEARNINGRATE" label="Learning Rate">
            <options>
                <option value="1e-5" label="1e-5"/>
            </options>
            <validator type="set"/>
        </parameter>

    </parameters>

    <!-- Input form layout -->
    <block label="Metabolomics Input">
        <row>
            <cell>
                <label>
                    <content parameter="metabolites_qza"/>
                </label>
            </cell>
            <cell colspan="3">
                <module id="metabolites_qza" type="fileSelector">
                    <property name="label">metabolites_qza</property>
                </module>
            </cell>
        </row>
        <row>
            <cell>
                <label>
                    <content parameter="metabolites_metadata"/>
                </label>
            </cell>
            <cell colspan="3">
                <module id="metabolites_metadata" type="fileSelector">
                    <property name="label">metabolites_metadata</property>
                </module>
            </cell>
        </row>
    </block>

    <block label="Microbiome Input">
        <row>
            <cell>
                <label>
                    <content parameter="microbiome_qza"/>
                </label>
            </cell>
            <cell colspan="3">
                <module id="microbiome_qza" type="fileSelector">
                    <property name="label">microbiome_qza</property>
                </module>
            </cell>
        </row>
        <row>
            <cell>
                <label>
                    <content parameter="microbiome_taxonomy"/>
                </label>
            </cell>
            <cell colspan="3">
                <module id="microbiome_taxonomy" type="fileSelector">
                    <property name="label">microbiome_taxonomy</property>
                </module>
            </cell>
        </row>
    </block>

    <block label="MMVEC Parameters">
        <row>
            <cell>
                <label>
                    <content parameter="EPOCHS"/>
                    <tooltip id="EPOCHS_analog_search_tooltip">
                        Lorem Ipsum
                    </tooltip>
                </label>
            </cell>

            <cell>
                <input type="select" parameter="EPOCHS"></input>
            </cell>
        </row>

        <row>
            <cell>
                <label>
                    <content parameter="LATENTDIM"/>
                    <tooltip id="LATENTDIM_analog_search_tooltip">
                        Lorem Ipsum
                    </tooltip>
                </label>
            </cell>

            <cell>
                <input type="select" parameter="LATENTDIM"></input>
            </cell>
        </row>

        <row>
            <cell>
                <label>
                    <content parameter="LEARNINGRATE"/>
                </label>
            </cell>

            <cell>
                <input type="select" parameter="LEARNINGRATE"></input>
            </cell>
        </row>
    </block>

</interface>
